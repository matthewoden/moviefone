module.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=r(i),o=n(3),u=r(o),c=n(4),f=r(c),l=function m(e){var t=this;a(this,m),this.getNewReleases=function(e,n){return void 0===e&&(e=0),n?t.fetchPage(n):t.fetchPages(1,e)},this.fetchPages=function(e,n,r){return void 0===e&&(e=1),void 0===n&&(n=0),r=r||[],t.fetchPage(e,n).then(function(a){var i=r.concat(a.data.movies);return a.data.morepages?t.fetchPages(e+1,n,i):{movies:i,meta:a.data.meta}})["catch"](function(e){return e})},this.fetchPage=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r={sort:1,start:10*(e-1),date:n,near:f["default"].stringify(t.location)},a={"User-Agent":t.userAgent,gzip:!0};return u["default"].get(t.baseUrl,{params:r,headers:a,transformResponse:[function(e){return t.parseMovies(e)}],encoding:"binary"})},this.parseMovies=function(e){var n=s["default"].load(e);if(n("#movie_results").length>1)return{morepages:!1,movies:[],meta:{status:"ERROR",message:"No movie results were found on this page. Please adjust your request and try again."}};var r=1===n('#navbar td a:contains("Next")').length,a=[];return n(".movie").each(function(e,r){r=n(r);var i=r.find('.desc h2[itemprop="name"]').text(),s=r.find(".desc .info").not(".links").text().split(" - "),o=s.filter(function(e){return e.match(/^Cast:\s/)?e:null}).map(function(e){return e.replace("Cast: ","").split(", ")})[0],u=s.filter(function(e){return e.match(/^Rated\s/)?e:null}).map(function(e){return e.replace("Rated ","")})[0],c=s.filter(function(e){return e.match(/(hr |min)/g)?e:null}).map(function(e){return e.replace(/[^\x00-\x7F]/g,"")})[0],f=s.filter(function(e){return e.match(/\//g)?e:null}).map(function(e){return e.split("Director:")[0].split("/")})[0],l=r.find('.info span[itemprop="director"]').text().split(", "),m=r.find('[itemprop="description"]').text(),d=[];r.find(".theater").each(function(e,r){r=n(r),d.push({id:r.find(".name a").attr("href").split("tid=")[1],name:r.find(".name a").text(),address:r.find(".address").text(),showtimes:t.formatShowtimes(n(r).find(".times").text())})}),a.push({name:i,cast:o,director:l,description:m,rating:u,genre:f,runtime:c,theaters:d})}),{movies:a,morepages:r,meta:{status:"OK",message:null}}},this.formatShowtimes=function(e){var t=!1;return e.replace(/[^\x00-\x7F]/g,"").split(" ").reverse().map(function(e){var n=e.match(/(am|pm)/);return n?t=n[0]:t&&(e+=t),e}).reverse()},this.userAgent="new releases",this.baseUrl="http://google.com/movies",this.location=e};t["default"]=l,e.exports=t["default"]},function(e,t){e.exports=require("cheerio")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("qs")}]);